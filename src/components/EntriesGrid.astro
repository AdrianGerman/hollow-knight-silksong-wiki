---
import EntryCard from "./EntryCard.astro"

type Item = {
  href: string
  title: string
  excerpt?: string
  cover?: string
  tags?: string[]
}

interface Props {
  items: Item[]
  id?: string
}
const { items = [], id = "grid" } = Astro.props as Props

const norm = (s: string) =>
  s
    .toLowerCase()
    .normalize("NFD")
    .replace(/[\u0300-\u036f]/g, "")
---

<section class="mx-auto max-w-6xl px-4 pb-12">
  <ul id={id} class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {
      items.map((it) => (
        <li
          id="grid-item"
          data-title={norm(it.title)}
          data-tags={(it.tags || []).map(norm).join("|")}
        >
          <EntryCard
            href={it.href}
            title={it.title}
            excerpt={it.excerpt}
            cover={it.cover}
            tags={it.tags}
          />
        </li>
      ))
    }
  </ul>
</section>
