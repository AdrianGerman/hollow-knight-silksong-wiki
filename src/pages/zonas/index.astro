---
import Layout from "@/layouts/Layout.astro"
import "../../styles/global.css"

import SectionHeader from "@/components/SectionHeader.astro"
import EntriesGrid from "@/components/EntriesGrid.astro"
import Background from "@/components/Background.astro"
import { getCollection } from "astro:content"

const docs = await getCollection("zonas")

const items = docs
  .sort((a, b) => a.data.order - b.data.order)
  .map(({ data, slug, collection }) => ({
    href: `/${collection}/${slug}`,
    title: data.title,
    excerpt: data.excerpt || "",
    cover: data.cover?.src || "",
    tags: data.tags || [],
  }))
---

<Layout title="Zonas — Pharloom Archives">
  <Background />

  <SectionHeader
    title="Zonas"
    description="Regiones de Pharloom: rutas, puntos de interés y conexiones con otras áreas del mapa."
  />

  <EntriesGrid items={items} />
</Layout>
