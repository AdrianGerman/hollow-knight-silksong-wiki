---
import Layout from "@/layouts/Layout.astro"
import "../../styles/global.css"

import SectionHeader from "@/components/SectionHeader.astro"
import EntriesGrid from "@/components/EntriesGrid.astro"
import { getCollection } from "astro:content"
import Background from "@/components/Background.astro"

const docs = await getCollection("jefes")
const items = docs
  .sort((a, b) => a.data.order - b.data.order)
  .map(({ data, slug, collection }) => ({
    href: `/${collection}/${slug}`,
    title: data.title,
    excerpt: data.excerpt || "",
    cover: data.cover?.src || "",
    tags: data.tags || [],
  }))
---

<Layout title="Jefes — Pharloom Archives">
  <Background />

  <SectionHeader
    title="Jefes"
    description="Encuentros principales de Pharloom. Guías de estrategia, patrones y recompensas."
  />

  <EntriesGrid items={items} />
</Layout>
